<!-- Language Switcher -->
<div align="right">
  <a href="README.md">English</a> | <b>ä¸­æ–‡</b>
</div>

# VitalGuard AI: An AIoT Wearable for Real-Time Health Insights & Alerts

**VitalGuard AI** æ˜¯ä¸€ä¸ªç´§å‡‘çš„å¯ç©¿æˆ´ AIoT ç³»ç»Ÿï¼Œé€šè¿‡æŒç»­èåˆå¤šä¼ æ„Ÿå™¨ç”Ÿå‘½ä½“å¾æ•°æ®ï¼ˆå¿ƒç‡ã€ä½“æ¸©ã€æ´»åŠ¨ç­‰ï¼‰ï¼Œæä¾›ä¸ªæ€§åŒ–çš„å¥åº·æ´å¯Ÿï¼Œå¹¶åœ¨æ£€æµ‹åˆ°å¼‚å¸¸æ—¶è§¦å‘å®æ—¶ç´§æ€¥è­¦æŠ¥ã€‚

## ğŸš€ é¡¹ç›®ç®€ä»‹ (About The Project)

åœ¨æ…¢æ€§ç—…å’Œè€å¹´æŠ¤ç†é¢†åŸŸï¼Œè¯Šæ‰€ä¹‹å¤–çš„æŒç»­ã€ä½æˆæœ¬ç›‘æ§è‡³å…³é‡è¦ã€‚æœ¬é¡¹ç›®æ—¨åœ¨é€šè¿‡ AIoT æŠ€æœ¯ï¼Œä¸ºç”¨æˆ·æä¾›ä¸€ç§æœ‰æ•ˆçš„æ–¹å¼æ¥è·Ÿè¸ªå¥åº·è¶‹åŠ¿ã€è·å–å¯è¡Œçš„ç”Ÿæ´»å»ºè®®ï¼ˆå¦‚è¡¥æ°´ã€ä¼‘æ¯æé†’ï¼‰ï¼Œå¹¶åœ¨å‘ç”Ÿè·Œå€’æˆ–ç”Ÿå‘½ä½“å¾å¼‚å¸¸æ—¶è‡ªåŠ¨å‘å‡ºè­¦æŠ¥ï¼Œä»è€Œå®ç°æ›´å®‰å…¨çš„ç‹¬ç«‹ç”Ÿæ´»ï¼Œä¹Ÿè®©å®¶äººå’ŒæŠ¤ç†äººå‘˜æ›´åŠ å®‰å¿ƒã€‚

### ä¸»è¦åŠŸèƒ½ (Key Features)

-   **æŒç»­å¤šç»´ç›‘æµ‹**: é›†æˆå¿ƒç‡ã€è¡€æ°§ (SpOâ‚‚)ã€ä½“æ¸©ã€æ´»åŠ¨å’Œå‹åŠ›ç­‰å¤šä¸ªä¼ æ„Ÿå™¨ï¼Œè¿›è¡Œå…¨å¤©å€™æ•°æ®é‡‡é›†ã€‚
-   **å®æ—¶æ•°æ®åˆ†æ**: æ•°æ®é€šè¿‡ ESP32 åœ¨è¾¹ç¼˜ç«¯è¿›è¡Œåˆæ­¥å¤„ç†ï¼Œå¹¶å®æ—¶ä¸Šä¼ è‡³äº‘ç«¯æœåŠ¡å™¨ (GCP)ã€‚
-   **AI é©±åŠ¨çš„å¥åº·æŠ¥å‘Š**: åˆ©ç”¨å¤§å‹è¯­è¨€æ¨¡å‹ (LLM) åˆ†æå¤„ç†åçš„æ•°æ®ï¼Œç”Ÿæˆæ˜“äºç†è§£çš„å¥åº·æŠ¥å‘Šå’Œä¸ªæ€§åŒ–å»ºè®®ã€‚
-   **ç´§æ€¥è­¦æŠ¥ç³»ç»Ÿ**: å½“æ£€æµ‹åˆ°è·Œå€’æˆ–ç”Ÿå‘½ä½“å¾ä¸¥é‡å¼‚å¸¸æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å‘ç´§æ€¥è”ç³»äººå‘é€é€šçŸ¥ã€‚
-   **Web å¯è§†åŒ–ç•Œé¢**: æä¾›ä¸€ä¸ªç®€æ´çš„ Web UIï¼Œç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°æŸ¥çœ‹è‡ªå·±çš„å¥åº·æ•°æ®ã€è¶‹åŠ¿å’Œ AI ç”Ÿæˆçš„æŠ¥å‘Šã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ (Tech Stack)

| ç±»åˆ«        | æŠ€æœ¯                                                         |
| :---------- | :----------------------------------------------------------- |
| **ç¡¬ä»¶**    | `ESP32`, `MAX86150` (å¿ƒç‡/è¡€æ°§), `TMP117` (ä½“æ¸©), `ADXL345` (è¿åŠ¨/è·Œå€’) |
| **åµŒå…¥å¼**  | `MicroPython`                                                |
| **äº‘å¹³å°**  | `Google Cloud Platform (GCP)`                                |
| **åç«¯**    | `Python`, `Flask` (Web æ¡†æ¶)                                 |
| **éƒ¨ç½²**    | `Systemd` (æœåŠ¡æŒä¹…åŒ–)                                       |
| **AI æ¨¡å‹** | é€šè¿‡ API è°ƒç”¨ç¬¬ä¸‰æ–¹å¤§å‹è¯­è¨€æ¨¡å‹ (LLM)                        |
| **å‰ç«¯**    | `HTML`, `CSS`, `JavaScript`                                  |

## ğŸ“‚ é¡¹ç›®ç»“æ„ (Project Structure)

```
.
â”œâ”€â”€ esp32/          # ESP32 (MicroPython) ä»£ç 
â”œâ”€â”€ gcp-server/     # GCP Flask åç«¯æœåŠ¡ä»£ç 
â”œâ”€â”€ docs/           # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ .gitignore      # Git å¿½ç•¥æ–‡ä»¶é…ç½®
â””â”€â”€ README.md       # é¡¹ç›®è¯´æ˜
```

## ğŸ å¼€å§‹ä½¿ç”¨ (Getting Started)

æœ¬æŒ‡å—å°†å¼•å¯¼ä½ å®Œæˆä»ç¡¬ä»¶é…ç½®åˆ°äº‘ç«¯æœåŠ¡éƒ¨ç½²çš„å®Œæ•´æµç¨‹ã€‚

### ä¾èµ–ç¯å¢ƒ (Prerequisites)

-   **é€šç”¨**: `Git`
-   **ç¡¬ä»¶ç«¯**: Python 3.x, `pip`, `esptool`, `mpfshell`
-   **æœåŠ¡ç«¯**: GCP è´¦æˆ·, ä¸€å°é…ç½®å¥½çš„ Ubuntu æœåŠ¡å™¨, Python 3.x, `pip`, `venv`

---

### **ç¬¬ä¸€éƒ¨åˆ†: ESP32 ç¡¬ä»¶è®¾ç½®**

æ­¤éƒ¨åˆ†å°†æŒ‡å¯¼ä½ ä¸º ESP32 å¼€å‘æ¿åˆ·å†™ MicroPython å›ºä»¶å¹¶ä¸Šä¼ é¡¹ç›®ä»£ç ã€‚

#### æ­¥éª¤ 1: å®‰è£…å¿…è¦å·¥å…·

åœ¨ä½ çš„æœ¬åœ°è®¡ç®—æœºä¸Šæ‰“å¼€ç»ˆç«¯ï¼Œå®‰è£… `esptool` å’Œ `mpfshell`ã€‚

```bash
pip install esptool
pip install mpfshell
```

#### æ­¥éª¤ 2: å®‰è£… USB é©±åŠ¨å¹¶æ£€æŸ¥ç«¯å£

1.  **å®‰è£…é©±åŠ¨**: ä» [Silicon Labså®˜ç½‘](https://www.silabs.com/developers/usb-to-uart-bridge-vcp-drivers) ä¸‹è½½å¹¶å®‰è£…å¯¹åº”çš„ USB to UART é©±åŠ¨ã€‚
2.  **è¿æ¥ ESP32**: å°† ESP32 å¼€å‘æ¿è¿æ¥åˆ°ä½ çš„ç”µè„‘ã€‚
3.  **æŸ¥æ‰¾ç«¯å£å·**: åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ‰¾åˆ°ä½ çš„è®¾å¤‡ç«¯å£å·ã€‚
    -   **macOS**: `ls /dev/tty.*` (é€šå¸¸æ˜¯ `/dev/tty.SLAB_USBtoUART` æˆ– `/dev/tty.usbserial-xxxxxxxx`)
    -   **Linux**: `ls /dev/ttyUSB*` (é€šå¸¸æ˜¯ `/dev/ttyUSB0`)
    
    > è®°ä¸‹è¿™ä¸ªç«¯å£å·ï¼Œåç»­æ­¥éª¤ä¼šç”¨åˆ° (ä¸‹æ–‡å°†ä»¥ `<YOUR_PORT_NAME>` ä»£æ›¿)ã€‚

#### æ­¥éª¤ 3: åˆ·å†™ MicroPython å›ºä»¶

1.  **ä¸‹è½½å›ºä»¶**: ä» [MicroPythonå®˜ç½‘](https://micropython.org/download/ESP32_GENERIC/) ä¸‹è½½æœ€æ–°çš„ç¨³å®šç‰ˆ `.bin` å›ºä»¶ã€‚
2.  **æ‰§è¡Œåˆ·å†™**: åœ¨ç»ˆç«¯ä¸­ï¼Œè¿›å…¥å›ºä»¶æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•(e.g., `ls /dev/tty.*`)ï¼Œç„¶åä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ã€‚
    ```bash
    # æ“¦é™¤ ESP32 ä¸Šçš„ç°æœ‰å›ºä»¶
    esptool erase_flash
    ```
    ```bash
    # åˆ·å†™æ–°å›ºä»¶ (å°†æ–‡ä»¶åæ›¿æ¢ä¸ºä½ ä¸‹è½½çš„ç‰ˆæœ¬)
    esptool --baud 460800 write-flash 0x1000 ESP32_GENERIC-20250809-v1.26.0.bin
    ```

#### æ­¥éª¤ 4: ä¸Šä¼ é¡¹ç›®ä»£ç 

è¿›å…¥æœ¬é¡¹ç›®çš„ `esp32/` ç›®å½•ï¼Œä½¿ç”¨ `mpfshell` å°†æ‰€æœ‰ `.py` æ–‡ä»¶ä¸Šä¼ åˆ° ESP32ã€‚

```bash
# ç¤ºä¾‹å‘½ä»¤ (è¯·å»æ‰ç«¯å£åå‰çš„ /dev/)
# ä¾‹å¦‚, å¦‚æœç«¯å£æ˜¯ /dev/tty.usbserial-1234, åˆ™ä½¿ç”¨ tty.usbserial-1234
# mpfshell -nc "open <YOUR_PORT_NAME_WITHOUT_/dev/>; cd esp32; mput .*\.py; repl"
```

```bash
cd esp32
mpfshell -nc "open tty.usbserial-59690942381; mput main.py"
```

#### æ­¥éª¤ 5: æŸ¥çœ‹ ESP32 è¾“å‡º (è°ƒè¯•)

ä½ å¯ä»¥ä½¿ç”¨ `tio` å‘½ä»¤æ¥æŸ¥çœ‹ ESP32 çš„ `print` è¾“å‡ºã€‚

```bash
# è¿æ¥åˆ° ESP32 (115200æ˜¯æ³¢ç‰¹ç‡)
tio /dev/tty.usbserial-59690942381
# æŒ‰ä¸‹ ESP32 ä¸Šçš„ "RST" æˆ– "EN" æŒ‰é’®é‡å¯ï¼Œå³å¯çœ‹åˆ°è¾“å‡º
# å¦‚ä½•é€€å‡º tio: æŒ‰ä¸‹ Ctrl + T ç„¶åå†æŒ‰ Q å³å¯é€€å‡ºã€‚
```

---

### **ç¬¬äºŒéƒ¨åˆ†: GCP åç«¯æœåŠ¡è®¾ç½®**

æ­¤éƒ¨åˆ†æŒ‡å¯¼å¦‚ä½•åœ¨ GCP çš„ Ubuntu æœåŠ¡å™¨ä¸Šéƒ¨ç½² Flask åº”ç”¨ã€‚

#### é˜¶æ®µ A: æœ¬åœ°å¼€å‘ä¸æµ‹è¯•

åœ¨éƒ¨ç½²åˆ°äº‘ç«¯å‰ï¼Œå»ºè®®å…ˆåœ¨æœ¬åœ°è¿è¡Œæµ‹è¯•ã€‚

1.  **è¿›å…¥é¡¹ç›®ç›®å½•**: `cd gcp-server/`
2.  **åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ**:
    ```bash
    python3 -m venv venv
    source venv/bin/activate
    ```
3.  **å®‰è£…ä¾èµ–**: `pip install -r requirements.txt`
4.  **è¿è¡Œæœ¬åœ°æœåŠ¡å™¨**: `flask run`

#### é˜¶æ®µ B: åœ¨ GCP ä¸Šä½¿ç”¨ Systemd è¿›è¡ŒæŒä¹…åŒ–éƒ¨ç½²

ä¸ºäº†è®©æˆ‘ä»¬çš„æœåŠ¡èƒ½åœ¨æœåŠ¡å™¨ä¸Š 24/7 ç¨³å®šè¿è¡Œï¼Œå¹¶ä¸”åœ¨æœåŠ¡å™¨é‡å¯åèƒ½è‡ªåŠ¨å¯åŠ¨ï¼Œæˆ‘ä»¬ä½¿ç”¨ `systemd`ã€‚

1.  **åˆ›å»º `systemd` æœåŠ¡æ–‡ä»¶**:
    é€šè¿‡ SSH è¿æ¥åˆ°ä½ çš„ GCP æœåŠ¡å™¨ï¼Œç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªæœåŠ¡é…ç½®æ–‡ä»¶ã€‚
    ```bash
    sudo nano /etc/systemd/system/vitalguard.service
    ```
2.  **ç²˜è´´é…ç½®å†…å®¹**:
    å°†ä»¥ä¸‹å†…å®¹ç²˜è´´åˆ°æ–‡ä»¶ä¸­ã€‚**è¯·åŠ¡å¿…ä¿®æ”¹ `User` å’Œè·¯å¾„ç›¸å…³çš„å­—æ®µ**ï¼Œä½¿å…¶ä¸ä½ çš„æœåŠ¡å™¨é…ç½®åŒ¹é…ã€‚
    ```ini
    [Unit]
    Description=VitalGuard AI Flask Server
    After=network.target
    
    [Service]
    User=<your_username>  # ä¾‹å¦‚: hc3625
    Group=<your_username> # ä¾‹å¦‚: hc3625
    WorkingDirectory=<path_to_project>/gcp-server  # ä¾‹å¦‚: /home/hc3625/vitalguard-ai/gcp-server
    
    # æŒ‡å®šè™šæ‹Ÿç¯å¢ƒçš„è·¯å¾„
    Environment="PATH=<path_to_project>/gcp-server/venv/bin" 
    
    # å¯åŠ¨å‘½ä»¤
    ExecStart=<path_to_project>/gcp-server/venv/bin/gunicorn --workers 3 --bind unix:app.sock -m 007 wsgi:app
    
    # å¼‚å¸¸é‡å¯ç­–ç•¥
    Restart=always
    RestartSec=3
    
    [Install]
    WantedBy=multi-user.target
    ```
    > **æ³¨æ„**: ä¸ºæé«˜æ€§èƒ½å’Œç¨³å®šæ€§ï¼Œç”Ÿäº§ç¯å¢ƒæ¨èä½¿ç”¨ `gunicorn`ã€‚è¯·å…ˆåœ¨è™šæ‹Ÿç¯å¢ƒä¸­ `pip install gunicorn`ï¼Œå¹¶åˆ›å»ºä¸€ä¸ª `wsgi.py` æ–‡ä»¶ï¼Œå†…å®¹ä¸º: `from main import app as application`ã€‚

3.  **ç®¡ç†æœåŠ¡**:
    ç°åœ¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ `systemctl` å‘½ä»¤æ¥ç®¡ç†ä½ çš„æœåŠ¡äº†ã€‚
    ```bash
    # é‡æ–°åŠ è½½ systemd é…ç½®ï¼Œè®©æ–°æœåŠ¡æ–‡ä»¶ç”Ÿæ•ˆ
    sudo systemctl daemon-reload
    
    # å¯åŠ¨ä½ çš„æœåŠ¡
    sudo systemctl start vitalguard
    
    # æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯
    sudo systemctl status vitalguard
    
    # å°†æœåŠ¡è®¾ç½®ä¸ºå¼€æœºè‡ªå¯åŠ¨
    sudo systemctl enable vitalguard
    ```

4.  **æŸ¥çœ‹æ—¥å¿—**:
    å¦‚æœæœåŠ¡è¿è¡Œå‡ºé”™æˆ–ä½ æƒ³æŸ¥çœ‹è¯·æ±‚æ—¥å¿—ï¼Œè¯·ä½¿ç”¨ `journalctl`ã€‚
    ```bash
    # æŸ¥çœ‹æœåŠ¡çš„å®æ—¶æ—¥å¿—
    sudo journalctl -u vitalguard -f
    
    # æŸ¥çœ‹æœ€è¿‘çš„100è¡Œæ—¥å¿—
    sudo journalctl -u vitalguard -n 100
    ```

## ğŸ“ˆ å¼€å‘æµç¨‹ (Team Workflow)

ä¸ºäº†ä¿è¯ä»£ç è´¨é‡å’Œ `main` åˆ†æ”¯çš„ç¨³å®šæ€§ï¼Œè¯·æ‰€æœ‰å›¢é˜Ÿæˆå‘˜éµå¾ªä»¥ä¸‹å¼€å‘æµç¨‹ï¼š

1.  **åŒæ­¥æœ€æ–°ä»£ç **: åœ¨å¼€å§‹æ–°ä»»åŠ¡å‰ï¼ŒåŠ¡å¿…å…ˆä»è¿œç¨‹æ‹‰å–æœ€æ–°çš„ `develop` åˆ†æ”¯ã€‚
    ```bash
    git checkout develop
    git pull origin develop
    ```
2.  **åˆ›å»ºç‰¹æ€§åˆ†æ”¯**: ä» `develop` åˆ†æ”¯åˆ›å»ºä¸€ä¸ªæ–°çš„ç‰¹æ€§åˆ†æ”¯ï¼Œå‘½åè¦æ¸…æ™°ï¼Œä¾‹å¦‚ `feature/add-temperature-sensor`ã€‚
    ```bash
    git checkout -b feature/your-feature-name
    ```
3.  **å¼€å‘ä¸æäº¤**: åœ¨ä½ çš„ç‰¹æ€§åˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘ï¼Œå¹¶è¿›è¡Œæœ‰æ„ä¹‰çš„ã€å°æ­¥çš„æäº¤ã€‚
4.  **å‘èµ·åˆå¹¶è¯·æ±‚ (Pull Request)**: åŠŸèƒ½å®Œæˆåï¼Œå°†ä½ çš„åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ï¼Œå¹¶åœ¨ GitHub ä¸Šåˆ›å»ºä¸€ä¸ª Pull Requestï¼Œè¯·æ±‚å°†ä½ çš„åˆ†æ”¯åˆå¹¶åˆ° `develop` åˆ†æ”¯ã€‚
5.  **ä»£ç å®¡æŸ¥ (Code Review)**: è‡³å°‘éœ€è¦ä¸€ä½å…¶ä»–å›¢é˜Ÿæˆå‘˜å®¡æŸ¥ä»£ç ï¼Œç¡®è®¤æ— è¯¯åæ–¹å¯åˆå¹¶ã€‚
6.  **åˆå¹¶åˆ°ä¸»å¹²**: å½“ `develop` åˆ†æ”¯ç»è¿‡æµ‹è¯•ï¼Œå‡†å¤‡è¿›è¡Œç‰ˆæœ¬å‘å¸ƒæˆ–éƒ¨ç½²æ—¶ï¼Œæ‰å¯å°†å…¶åˆå¹¶åˆ° `main` åˆ†æ”¯ã€‚

## ğŸ‘¥ å›¢é˜Ÿæˆå‘˜ (Team)

-   **Group 19**
    -   Daolin Li (Uni: dl3832) [dl3832@columbia.edu](mailto:dl3832@columbia.edu)
    -   Hao CHEN (Uni: hc3625) [hc3625@columbia.edu](mailto:hc3625@columbia.edu)
    -   Sripad Karne (Uni: sk5695) [sk5695@columbia.edu](mailto:sk5695@columbia.edu)
    -   Yizheng TANG (Uni: yt2992) [yt2992@columbia.edu](mailto:yt2992@columbia.edu)